{% extends "base.html" %}
{% load i18n %}

{% block title %}{{ title }}{% endblock %}
{% block content_title %}
<h3 class="d-flex align-items-middle">
	<i class="fas fa-lock fa-fw"></i>
	{{ title }}
</h3>
<hr/>
{% endblock %}

{% block content %}
<div class="row w-25 mx-auto">
	<div class="col-md-12">
		<form method="post">
			{% csrf_token %}
			{% if form.errors %}
				{% if form.errors.items|length >= 1 %}
				<div class="alert alert-danger" role="alert">
					Corrija os erros abaixo!
				</div>
				{% endif %}
			{% endif %}

			<div class="form-group">
				{{ form.old_password.errors }}
				<label for="{{ form.old_password.id_for_label }}">{{ form.old_password.label }}</label>
				<input type="password" autofocus name="{{ form.old_password.name }}" class="form-control" id="{{ form.old_password.id_for_label }}" aria-describedby="oldPassword" />
				<small id="oldPassword" class="form-text text-muted">Entre com sua antiga senha</small>

			</div>

			<div class="form-group">
				{{ form.new_password1.errors }}
				<label for="{{ form.old_password.id_for_label }}">{{ form.new_password1.label }}</label>
				<input type="password" name="{{ form.new_password1.name }}" class="form-control" id="{{ form.new_password1.id_for_label }}" aria-describedby="newPassword1" />
				<small id="newPassword1" class="form-text text-muted">{{ form.new_password1.help_text|safe }}</small>

			</div>

			<div class="form-group">
				{{ form.new_password2.errors }}
				<label for="{{ form.old_password.id_for_label }}">{{ form.new_password2.label }}</label>
				<input type="password" name="{{ form.new_password2.name }}" class="form-control" id="{{ form.new_password2.id_for_label }}" aria-describedby="newPassword2" />
				<small id="newPassword2" class="form-text text-muted">{{ form.new_password2.help_text|safe }}</small>

			</div>

			<div class="form-group">
				<input type="submit" value="Alterar" class="btn btn-primary" />
				<a href="javascript: history.back();" class="btn btn-danger">{% trans 'Cancelar' %}</a>
			</div>

		</form>
	</div>
</div>
{% endblock %}
